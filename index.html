<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Digital blombukett</title>
<style>
  :root{
    --bg: radial-gradient(1200px 700px at 50% 10%, #fff 0%, #f7f8ff 45%, #eef2ff 100%);
    --stem: #2f8f5b;
    --leaf: #39a06b;
    --petal1: #ff7eb6;
    --petal2: #ffd166;
    --petal3: #7aa2ff;
    --center: #ffd54a;
    --accent: #0b3a84;
  }
  html,body{height:100%;margin:0}
  body{
    background: var(--bg);
    display:grid; place-items:center;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:#243;
    overflow:hidden;
  }
  .card{
    width:min(92vw,780px);
    aspect-ratio: 16/9;
    border-radius:24px;
    background: #ffffffcc;
    backdrop-filter: blur(6px);
    box-shadow: 0 24px 60px rgba(0,0,0,.15);
    position:relative;
    overflow:hidden;
  }
  .sky{position:absolute; inset:0 0 35% 0;
    background: linear-gradient(#eaf0ff, #ffffff 60%);}
  .ground{position:absolute; inset:auto 0 0 0; height:35%;
    background:linear-gradient(0deg, #e7f7ee, #f3fff8);
    border-top: 2px solid #e0f1e9;}
  .title{position:absolute; top:14px; left:50%; transform:translateX(-50%);
    font-weight:800; color:var(--accent); text-shadow:0 2px 12px rgba(11,58,132,.12);
    font-size:clamp(18px,3.2vw,28px);}
  .hint{position:absolute; bottom:12px; left:50%; transform:translateX(-50%);
    opacity:.7; font-size:clamp(12px,2.2vw,14px);}
  .controls{position:absolute; top:12px; right:12px; display:flex; gap:8px; z-index:10;}
  .btn{border:0; border-radius:999px; padding:10px 14px; font-weight:700;
    background:#0b3a84; color:#fff; box-shadow:0 10px 20px rgba(11,58,132,.25);
    cursor:pointer;}
  .btn:active{ transform:translateY(1px) }

  svg{ width:100%; height:100%; display:block }

  .bloom .petal { transform:scale(1); opacity:1; }
  .petal{transform-origin: center; transform:scale(.05); opacity:0;
    transition: transform .8s cubic-bezier(.2,.7,.2,1), opacity .6s ease;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,.15));}
  .center{ filter: drop-shadow(0 1px 3px rgba(0,0,0,.12)); }

  .sway .flower { animation: sway 3.5s ease-in-out infinite; transform-origin: bottom center; }
  @keyframes sway {0%,100% { transform: rotate(0deg);} 50% { transform: rotate(1.8deg);} }

  .message{position:absolute; inset:14% 6% auto 6%;
    background:#ffffffea; border:3px solid rgba(212,175,55,.45);
    border-radius:16px; padding:16px 18px; text-align:center;
    box-shadow:0 14px 40px rgba(0,0,0,.12);
    transform: translateY(-12px) scale(.98); opacity:0;
    transition: opacity .5s ease, transform .5s ease;}
  .message.show{ opacity:1; transform:translateY(0) scale(1);}
  .message h2{ margin:0 0 6px; color:#0b3a84; font-size:clamp(18px,3.6vw,24px)}
  .message p { margin:0; font-size:clamp(14px,2.8vw,18px); line-height:1.45 }

  /* Konfetti */
  .confetti{ position:absolute; inset:0; pointer-events:none; overflow:hidden }
  .piece{ position:absolute; width:8px; height:14px; border-radius:2px;
    animation: fall 2.8s linear forwards;}
  @keyframes fall{ to{ transform: translateY(120vh) rotate(540deg); opacity:0; } }

  /* SolnedgÃ¥ng */
  .sun{position:absolute; top:-120px; left:50%; transform:translateX(-50%);
    width:160px; height:160px; border-radius:50%; background:#ffcf6f;
    box-shadow:0 0 60px 20px #ffd98c; opacity:0; transition: all 2s ease;}
  .sun.show{ top:20%; opacity:1; }

  /* Hemlig lapp */
  .note{position:absolute; bottom:-120px; left:50%; transform:translateX(-50%);
    width:70%; background:#fff8dc; border:2px solid #d4af37; border-radius:12px;
    padding:14px; text-align:center; font-weight:600;
    box-shadow:0 12px 30px rgba(0,0,0,.18); transition: all 1.5s ease;}
  .note.show{ bottom:20%; }
</style>
</head>
<body>
  <div class="card" id="card">
    <div class="sky"></div>
    <div class="ground"></"></div>
    <div class="title">Klicka fÃ¶r att lÃ¥ta buketten blomma ðŸŒ¸</div>
    <div class="controls">
      <button class="btn" id="resetBtn">Reset</button>
    </div>

    <div class="sun" id="sun"></div>
    <div class="note" id="note">Nobody or nothing will ever come between us ðŸ’›</div>

    <div class="message" id="msg">
      <h2>Grattis pÃ¥ fÃ¶delsedagen, min Ã¤lskling! ðŸ’›</h2>
      <p>Ã–nskar dig glÃ¤dje, styrka och magiska stunder â€“ alltid.<br/>
      Klicka igen fÃ¶r konfetti ðŸŽ‰</p>
    </div>

    <div class="confetti" id="confetti"></div>

    <svg viewBox="0 0 1000 560">
      <g stroke="var(--stem)" stroke-width="10" fill="none" stroke-linecap="round">
        <path d="M160,520 C200,420 220,330 260,280"/>
        <path d="M320,520 C360,430 420,370 460,320"/>
        <path d="M500,520 C540,430 570,370 600,320"/>
        <path d="M680,520 C720,430 745,360 780,300"/>
      </g>
      <g fill="var(--leaf)">
        <ellipse cx="230" cy="380" rx="24" ry="12" transform="rotate(-28 230 380)"/>
        <ellipse cx="370" cy="410" rx="26" ry="13" transform="rotate(18 370 410)"/>
        <ellipse cx="555" cy="395" rx="26" ry="13" transform="rotate(-12 555 395)"/>
        <ellipse cx="720" cy="360" rx="26" ry="13" transform="rotate(22 720 360)"/>
      </g>
      <g id="flowers">
        <g class="flower" transform="translate(260,260)">
          <g class="petal" fill="var(--petal1)">
            <circle cx="0" cy="-42" r="26"/>
            <circle cx="36" cy="-12" r="26"/>
            <circle cx="22" cy="32" r="26"/>
            <circle cx="-22" cy="32" r="26"/>
            <circle cx="-36" cy="-12" r="26"/>
          </g><circle class="center" r="18" fill="var(--center)"/>
        </g>
        <g class="flower" transform="translate(460,300)">
          <g class="petal" fill="var(--petal2)">
            <circle cx="0" cy="-42" r="26"/>
            <circle cx="36" cy="-12" r="26"/>
            <circle cx="22" cy="32" r="26"/>
            <circle cx="-22" cy="32" r="26"/>
            <circle cx="-36" cy="-12" r="26"/>
          </g><circle class="center" r="18" fill="var(--center)"/>
        </g>
        <g class="flower" transform="translate(600,300)">
          <g class="petal" fill="var(--petal3)">
            <circle cx="0" cy="-42" r="26"/>
            <circle cx="36" cy="-12" r="26"/>
            <circle cx="22" cy="32" r="26"/>
            <circle cx="-22" cy="32" r="26"/>
            <circle cx="-36" cy="-12" r="26"/>
          </g><circle class="center" r="18" fill="var(--center)"/>
        </g>
        <g class="flower" transform="translate(780,280)">
          <g class="petal" fill="var(--petal1)">
            <circle cx="0" cy="-42" r="26"/>
            <circle cx="36" cy="-12" r="26"/>
            <circle cx="22" cy="32" r="26"/>
            <circle cx="-22" cy="32" r="26"/>
            <circle cx="-36" cy="-12" r="26"/>
          </g><circle class="center" r="18" fill="var(--center)"/>
        </g>
      </g>
    </svg>

    <div class="hint">Klicka pÃ¥ kortet fÃ¶r att blomma â€“ igen fÃ¶r fler effekter âœ¨</div>
  </div>

<script>
  const card = document.getElementById('card');
  const flowers = [...document.querySelectorAll('.flower')];
  const confetti = document.getElementById('confetti');
  const msg = document.getElementById('msg');
  const sun = document.getElementById('sun');
  const note = document.getElementById('note');
  const resetBtn = document.getElementById('resetBtn');

  let bloomIndex = 0;

  function makeConfetti(n=80){
    const colors = ['#ff7eb6','#ffd166','#7aa2ff','#39a06b','#d4af37','#0b3a84'];
    for(let i=0;i<n;i++){
      const el = document.createElement('div');
      el.className = 'piece';
      el.style.left = Math.random()*100 + 'vw';
      el.style.top = '-10vh';
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      el.style.transform = `translateY(0) rotate(${Math.random()*180}deg)`;
      el.style.opacity = 0.9;
      el.style.animationDelay = (Math.random()*0.8)+'s';
      confetti.appendChild(el);
      setTimeout(()=>el.remove(), 3200);
    }
  }

  function next(){
    if(bloomIndex < flowers.length){
      flowers[bloomIndex].classList.add('bloom');
      bloomIndex++;
      if(bloomIndex === flowers.length){
        card.classList.add('sway');
        setTimeout(()=>msg.classList.add('show'), 400);
        setTimeout(()=>sun.classList.add('show'), 800);
        setTimeout(()=>note.classList.add('show'), 1600);
      }
      return;
    }
    makeConfetti(80);
  }

  function resetAll(){
    flowers.forEach(f => f.classList.remove('bloom'));
    bloomIndex = 0;
    msg.classList.remove('show');
    card.classList.remove('sway');
    sun.classList.remove('show');
    note.classList.remove('show');
  }

  card.addEventListener('click', next);
  resetBtn.addEventListener('click', (e)=>{ e.stopPropagation(); resetAll(); });

  card.tabIndex = 0;
  card.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); next(); }
  });
</script>
</body>
</html>
